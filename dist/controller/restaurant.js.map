{"version":3,"sources":["../../src/controller/weather.js"],"names":["config","db","api","post","req","res","newRest","name","body","save","err","send","json","get","find","weathers"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEc,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAChC,MAAIC,MAAM,sBAAV;;AAGA;AACAA,MAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIC,UAAU,0BAAd;AACAA,YAAQC,IAAR,GAAeH,IAAII,IAAJ,CAASD,IAAxB;;AAEAD,YAAQG,IAAR,CAAa,eAAO;AAClB,UAAGC,GAAH,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAAS,EAAE,WAAW,+BAAb,EAAT;AACD,KALD;AAMD,GAVD;;AAYA;AACAV,MAAIW,GAAJ,CAAQ,GAAR,EAAa,UAACT,GAAD,EAAMC,GAAN,EAAc;AACzB,yBAAWS,IAAX,CAAgB,EAAhB,EAAoB,UAACJ,GAAD,EAAMK,WAAN,EAAsB;AACxC,UAAIL,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASG,WAAT;AACD,KALD;AAMD,GAPD;AAQF,SAAOb,GAAP;AACC,C","file":"weather.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport Weather from '../model/weather';\n\nexport default({ config, db }) => {\n  let api = Router();\n\n\n  // 'v1/weather/add' - Create\n  api.post('/add', (req, res) => {\n    let newRest = new Weather();\n    newRest.name = req.body.name;\n\n    newRest.save(err => {\n      if(err) {\n        res.send(err);\n      }\n      res.json({ \"message\": \"Weather saved successfully\"});\n    });\n  });\n\n  // 'v1/weather/' - Read\n  api.get('/', (req, res) => {\n    Weather.find({}, (err, weathers) => {\n      if (err) {\n        res.send(err);\n      }\n      res.json(weathers);\n    });\n  });\nreturn api;\n}\n"]}